import async_fifo_package::*;

//synchronizer

module two_ff_sync (
  input  logic               clk,
  input  logic               rst,           // active-high reset
  input  logic [WIDTH-1:0]   d,             //  input
  output logic [WIDTH-1:0]   q              //  syncronized version of d 
);

// 2 ff to reduce the metastablilty
  logic [WIDTH-1:0] ff1, ff2;


  always_ff @(posedge clk or posedge rst) begin
    if (rst) begin //if rst clear ff
      ff1 <= '0;
      ff2 <= '0;
    end else begin
      ff1 <= d;
      ff2 <= ff1;
    end
  end

  assign q = ff2;

endmodule
