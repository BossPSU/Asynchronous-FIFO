import async_fifo_package::*;

module dualport_mem(
  input  logic w_clk, r_clk, w_en, r_en,
  input  logic [ADDR_WIDTH-1:0] w_addr, r_addr, //adress to write to address to  read from
  input  logic [DATA_WIDTH-1:0] w_data, //the data being written into memory.
  output logic [DATA_WIDTH-1:0] r_data// the data being read from memory.
);

//decares memory aray
  logic [DATA_WIDTH-1:0] mem [DEPTH-1:0];

//writng
  always_ff @(posedge w_clk) begin
    if (w_en) begin //stuff only happens wen write enagble is true
      if (w_addr < DEPTH) //also make sure adress in range
        mem[w_addr] <= w_data; //write data into meory at adress w_addr
    end
  end

//reading
  always_ff @(posedge r_clk) begin
    if (r_en) begin
      if (r_addr < DEPTH)
        r_data <= mem[r_addr];
      else
        r_data <= '0;
    end
  end

endmodule
